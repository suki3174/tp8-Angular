<div class="container">
    <h2> Ajout d'un employé</h2>
    <hr>
    <form class="form-group" [formGroup]="ajoutEmployeForm" (ngSubmit)="onSubmit()">
        <div class="form-group mb-2 d-flex flex-row">
            <label class="form-label"> Donnez le matricule</label>
            <input type="text" class="form-control" formControlName="matricule">
        </div>
        <hr>
        <div class="form-group mb-2 d-flex flex-row">
            <label class="form-label"> Donnez le nom</label>
            <input type="text" class="form-control" formControlName="name">
        </div>
        <hr>
        <div class="p-2 bg-light rounded">
            <strong>Affiliation</strong>
            <div>
                <div class="form-group mb-2 d-flex gap-3 flex-row">
                    <label class="form-label"> Choisissez le département</label>
                    <input type="radio" value="TI" class="form-check-input" formControlName="departement"> IT
                    <input type="radio" value="Finance" class="form-check-input" formControlName="departement"> Finance
                </div>
                <div class="form-group mb-2 d-flex gap-3 flex-row">
                    <label class="form-label"> Donnez la fonction</label>
                    <select class="form-select" formControlName="poste">
                        <!--La liste déroulante des fonctions est remplie à partir des valeurs possibles du type
                    énuméré Fonction.-->
                        @for (fonction of fonctions; track fonction) {
                        <option [value]="fonction">{{fonction}}</option>
                        }
                    </select>
                </div>
            </div>
        </div>
        <hr>
        <div formArrayName="diplomes">
            <h5>Liste des diplômes</h5>
            @for (diplome of lesDiplomes.controls; track $index) {
            <div class="form-group mb-2 d-flex gap-3 flex-row">
                <label for="">intitulé du diplôme n°{{$index+1}}</label>
                <input type="text" [formControlName]="$index">
                <label for="">année d'obtention</label>
                <input type="number" [formControlName]="$index">
                <button type="button" class="btn btn-danger btn-sm" (click)="deleteDiplome($index)">supprimer</button>
            </div>
            }
        </div>


        <div class="btn-group">
            <button type="button" class="btn btn-dark btn-sm" (click)="addDiplome()">Ajouter Diplôme</button>
            <button class="btn btn-primary" type="submit">Ajouter Employé</button>
            <button class="btn btn-secondary" (click)="onReset()" type="button">Vider</button>
        </div>
    </form>
</div>
<hr>
    <app-employe-list></app-employe-list>

